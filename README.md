# Serenity/JS Playwright Component Test Template for React

[![Build Status](https://github.com/serenity-js/serenity-js-playwright-ct-react-template/actions/workflows/main.yml/badge.svg)](https://github.com/serenity-js/serenity-js-playwright-ct-react-template/actions/workflows/main.yml)
[![NPM Version](https://img.shields.io/npm/v/%40serenity-js%2Fcore?style=flat&logoColor=%23FBD30B&label=Serenity%2FJS&color=%23FBD30B)](https://serenity-js.org/releases/)

[![Follow Serenity/JS on LinkedIn](https://img.shields.io/badge/Follow-Serenity%2FJS%20-0077B5?logo=linkedin)](https://www.linkedin.com/company/serenity-js)
[![Watch Serenity/JS on YouTube](https://img.shields.io/badge/Watch-@serenity--js-E62117?logo=youtube)](https://www.youtube.com/@serenity-js)
[![Join Serenity/JS Community Chat](https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix)](https://matrix.to/#/#serenity-js:gitter.im)
[![Support Serenity/JS on GitHub](https://img.shields.io/badge/Support-@serenity--js-703EC8?logo=github)](https://github.com/sponsors/serenity-js)

This [**starter template**](https://help.github.com/en/articles/creating-a-repository-from-a-template) helps you test
[**React**](https://react.dev/) components using [**Serenity/JS**](https://serenity-js.org) and the [**Playwright Test**](https://playwright.dev/) runner in [**Component-Test mode**](https://playwright.dev/docs/test-components),
and comes pre-configured with **TypeScript**, linting, reporting, and example React components with test scenarios.

Component testing enables you to test React components in isolation, without the need for a full application setup.
This approach provides faster feedback, better test isolation, and more focused test scenarios compared to full end-to-end tests.

Use this template to accelerate your component testing setup
and generate [enhanced Playwright Test reports](https://serenity-js.org/handbook/test-runners/playwright-test/#reporting)
and [Serenity BDD living documentation](https://serenity-js.org/handbook/reporting/serenity-bdd-reporter/).

View live reports generated by this template:
- [Serenity BDD living documentation](https://serenity-js.github.io/serenity-js-playwright-ct-react-template/serenity/)
- [Enhanced Playwright Test report](https://serenity-js.github.io/serenity-js-playwright-ct-react-template/playwright/)

## Features

- Pre-configured **Serenity/JS** + **Playwright Component Test** + **React** + **TypeScript** setup
- Example React components (Dropdown) with corresponding test scenarios
- **Screenplay Pattern** implementation demonstrating reusable page elements and interactions
- Integrated reporting with **Serenity BDD** and **Playwright Test** HTML reports
- ESLint configuration for code quality and consistency
- CI-ready scripts and development environment support
- Ready-to-use GitHub Codespaces environment using the official [Serenity/JS Docker image](https://serenity-js.org/handbook/integration/docker/)

## Quick Start

### Explore instantly in GitHub Codespaces

Launch this project in an online development environment:

[![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://github.com/codespaces/new?ref=main&repo=serenity-js/serenity-js-playwright-ct-react-template)

### Run locally

#### 1. Prerequisites

Follow the [Serenity/JS installation guide](https://serenity-js.org/handbook/about/installation/) to set up your development environment with the following prerequisites:
- [Node.js](https://nodejs.org/) (LTS version recommended)
- [Java JRE 17+](https://www.oracle.com/java/technologies/java-se-glance.html)

#### 2. Create your project

[Create a new GitHub repository](https://help.github.com/en/articles/creating-a-repository-from-a-template) from this template and
[clone it](https://help.github.com/en/github/creating-cloning-and-archiving-repositories/cloning-a-repository) to your machine:

```shell
git clone <your-repo-url>
cd <your-project>
```

#### 3. Install dependencies

Install the project dependencies and [Playwright browsers](https://playwright.dev/docs/browsers):

```shell
npm ci
npx playwright install
```

##### Corporate networks

If your environment requires proxy configuration or an internal registry like Artifactory or Nexus, add an [`.npmrc` file](https://docs.npmjs.com/cli/v6/configuring-npm/npmrc) file 
with the appropriate configuration to your home directory: 

```
proxy=http://user:password@host.mycompany.com:8080/
https-proxy=http://user:password@host.mycompany.com:8080/
strict-ssl=false
registry=https://artifactory.mycompany.com/artifactory/
```

#### 4. Run tests

Run the example tests:
```
npm test
```

#### 5. View reports

View the test reports generated under the following paths:

- **Serenity BDD**: `./target/site/serenity/index.html`
- **Playwright Test**: `./playwright-report/index.html`

Alternatively, serve the Serenity BDD report using the built-in HTTP server,
accessible at [http://localhost:8080](http://localhost:8080):
```
npm run start
```

## Execution

The project provides several [NPM scripts](https://docs.npmjs.com/cli/v6/using-npm/scripts) defined in [`package.json`](package.json):

```
npm run lint            # runs code linter
npm run lint:fix        # attempts to automatically fix linting issues
npm run clean           # removes reports from any previous test run
npm test                # executes the example test suite
                        # and generates the report under ./target/site/serenity
npm start               # starts a mini HTTP server and serves the test reports
                        # at http://localhost:8080
```

### Test execution modes

```shell
# Run all tests
npm test

# Run tests in specific browser
npx playwright test -c playwright-ct.config.ts --project=chromium

# Run tests in headed mode (see the browser)
npx playwright test -c playwright-ct.config.ts --headed

# Run tests in debug mode
npx playwright test -c playwright-ct.config.ts --debug

# Run a specific test file
npx playwright test -c playwright-ct.config.ts src/components/Dropdown/Dropdown.spec.tsx
```

## Project Structure

The template follows a clear structure to help you organize your components and tests:

```
src/
‚îú‚îÄ‚îÄ components/          # Your React components
‚îÇ   ‚îú‚îÄ‚îÄ Dropdown/        # Example: Dropdown component
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dropdown.tsx           # React component implementation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dropdown.spec.tsx      # Component test scenarios
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dropdown.serenity.ts   # Serenity/JS page elements (Screenplay Pattern)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.tsx              # Component exports
‚îÇ   ‚îú‚îÄ‚îÄ index.ts         # Components barrel export
‚îÇ   ‚îî‚îÄ‚îÄ serenity.ts      # Serenity/JS barrel export
‚îú‚îÄ‚îÄ index.ts             # Main entry point
‚îú‚îÄ‚îÄ serenity.ts          # Main Serenity/JS entry point
‚îî‚îÄ‚îÄ style.css            # Global styles

playwright/              # Playwright CT configuration
‚îú‚îÄ‚îÄ index.html           # Test runner HTML template
‚îî‚îÄ‚îÄ index.tsx            # Test runner setup

playwright-ct.config.ts  # Playwright Component Test configuration
target/site/serenity/    # Generated Serenity BDD reports
playwright-report/       # Generated Playwright Test reports
```

**Key files:**
- `*.tsx` - React component implementations
- `*.spec.tsx` - Test scenarios using Serenity/JS and Playwright CT
- `*.serenity.ts` - Reusable page elements following the [Screenplay Pattern](https://serenity-js.org/handbook/design/screenplay-pattern/)

## Next steps

- **Replace sample components**: Remove the `Dropdown` example and add your own React components in `src/components/`
- **Create Serenity/JS page elements**: Define reusable interactions using the Screenplay Pattern (see `Dropdown.serenity.ts` for examples)
- **Write test scenarios**: Add `*.spec.tsx` files alongside your components to test them in isolation
- **Customize reporting**: Configure test metadata and tags in your test scenarios for better living documentation
- **Integrate into CI/CD**: Use the provided npm scripts in your continuous integration pipeline
- **Explore the reports**: Review the generated Serenity BDD and Playwright reports to understand test results and living documentation

## Troubleshooting

### Playwright browsers not installed

If you see errors about browsers not being installed, run:
```shell
npx playwright install
```

### Port 8080 already in use

If the report server fails to start because port 8080 is in use, you can specify a different port:
```shell
npx http-server -p 3000 target/site/serenity -s -o
```

### Tests failing with "Component not found"

Ensure your component exports are correct in the `index.tsx` files and that you're importing from the right path in your test files.

### Java not found error

Serenity BDD reports require Java 17 or higher. Verify your installation:
```shell
java -version
```

If Java is not installed, download it from [Oracle](https://www.oracle.com/java/technologies/downloads/) or use a package manager:
- **macOS**: `brew install openjdk@17`
- **Linux**: `sudo apt-get install openjdk-17-jre`
- **Windows**: Download from Oracle or use [Chocolatey](https://chocolatey.org/): `choco install openjdk17`

## Documentation

- [API Reference](https://serenity-js.org/api/)
- [Screenplay Pattern Guide](https://serenity-js.org/handbook/design/screenplay-pattern/)
- [Serenity/JS Project Templates](https://serenity-js.org/handbook/project-templates/)
- [More examples and reference implementations](https://github.com/serenity-js/serenity-js/tree/main/examples)
- [Tutorial: First Web Scenario](https://serenity-js.org/handbook/tutorials/your-first-web-scenario/)
- [Tutorial: First API Scenario](https://serenity-js.org/handbook/tutorials/your-first-api-scenario/)

## Contributing

Contributions of all kinds are welcome! Get started with the [Contributing Guide](https://serenity-js.org/community/contributing/).

## Community

[![Follow Serenity/JS on LinkedIn](https://img.shields.io/badge/LinkedIn-Serenity%2FJS%20-0077B5?logo=linkedin)](https://www.linkedin.com/company/serenity-js)
[![Watch Serenity/JS on YouTube](https://img.shields.io/badge/Watch-@serenity--js-E62117?logo=youtube)](https://www.youtube.com/@serenity-js)
[![Join Serenity/JS Community Chat](https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix)](https://matrix.to/#/#serenity-js:gitter.im)

Join a thriving community of developers using Serenity/JS to deliver high-quality software!

### Stay informed

- üì∞ [Get the latest updates on LinkedIn](https://www.linkedin.com/company/serenity-js) - Product announcements, tutorials, and best practices
- üì∫ [Watch tutorials on YouTube](https://www.youtube.com/@serenity-js) - Video guides and conference talks

### Get help and share knowledge

- üí¨ [Join the Community Chat](https://matrix.to/#/#serenity-js:gitter.im) - Real-time help and discussions
- üí° [Browse the Discussions Forum](https://github.com/orgs/serenity-js/discussions) - Q&A and feature discussions
  - Check out [How to...?](https://github.com/orgs/serenity-js/discussions/categories/how-to) for answers to common questions

### Share the love!

Love Serenity/JS? Help others discover the framework:

‚≠ê **Star the [Serenity/JS repository](https://github.com/serenity-js/serenity-js)** on GitHub

[![GitHub stars](https://img.shields.io/github/stars/serenity-js/serenity-js?label=Serenity%2FJS&logo=github&style=badge)](https://github.com/serenity-js/serenity-js)

Starring the repository helps increase visibility and shows your support for the project!

## License

The Serenity/JS code base is licensed under the [Apache-2.0](https://opensource.org/license/apache-2-0) license,
while its documentation and the [Serenity/JS Handbook](https://serenity-js.org/handbook/) are licensed under the [Creative Commons BY-NC-SA 4.0 International](https://creativecommons.org/licenses/by-nc-sa/4.0/).

See the [Serenity/JS License](https://serenity-js.org/legal/license/).

## Support

### üíù Sponsor Serenity/JS

Support the ongoing development of Serenity/JS and the open-source community:

[![GitHub Sponsors](https://img.shields.io/badge/Support%20@serenity%2FJS-703EC8?style=for-the-badge&logo=github&logoColor=white)](https://github.com/sponsors/serenity-js)

**Sponsor benefits:**
- üéì Access to [Serenity/JS Playbooks](https://github.com/serenity-js/playbooks) - Advanced patterns and best practices
- üèÜ Priority support in the [Community Discussions Forum](https://github.com/orgs/serenity-js/discussions)
- üíö Support open-source development and help keep Serenity/JS free for everyone

### üè¢ Professional Services

Need dedicated support, training, or consulting for your team?

**[Contact Jan Molak](https://www.linkedin.com/in/janmolak/)** for:
- üéØ **Consulting & Training** - Custom workshops and team training sessions
- ü§ù **Corporate Support** - Dedicated technical support and SLA-backed assistance  
- üèóÔ∏è **Architecture Reviews** - Expert guidance on test automation strategy and implementation
- üìä **Corporate Sponsorship** - Tailored partnership opportunities for organizations

